module.exports.Send=SendMessage,module.exports.Receive=ProcessMessage;const Server=require("./server"),Utils=require("./messengerUtils");function ProcessMessage(e,s){const r=e.slice(0,1),t=e.slice(1),a=Utils.Parse(t);let o;switch(r){case"N":SendMessage("SC"+(o=Server.CreateNewSession(parseInt(a.get("T")),parseInt(a.get("R"))))+"?",s),Server.ConnectPlayerToSession(o,s,a.get("N"),"T"===a.get("S"));break;case"J":o=parseInt(a.get("C")),Server.ConnectPlayerToSession(o,s,a.get("N"))||SendMessage("N",s);break;case"D":Server.DisconnectPlayerFromSessions(s);break;case"M":Server.ProcessMove(s,parseInt(a.get("I")),"B"===a.get("S")?"bottom":"top");break;case"L":Server.LogDiscord(a.get("C"),a.get("M"));break;case"P":break;default:console.log("Default message?")}}function SendMessage(e,s){s.send(e)}